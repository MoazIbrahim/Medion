<% layout('layouts/boilerplate') %>
<div class="container">
  <nav
    class="container bruh nav nav-pills flex-column flex-sm-row mt-5"
    id="myTab"
    role="tablist"
  >
    <a
      class="flex-sm-fill text-sm-center text-primary nav-link active"
      href="#static-curriculum"
      data-bs-toggle="pill"
      role="tab"
      aria-controls="static-curriculum"
      aria-selected="true"
      >Static</a
    >
    <a
      class="flex-sm-fill text-sm-center text-primary nav-link"
      href="#dynamic-curriculum"
      data-bs-toggle="pill"
      role="tab"
      aria-controls="dynamic-curriculum"
      aria-selected="false"
      >Dynamic</a
    >
  </nav>
  <h1 class="my-5" data-i18n="course-curriculum"></h1>
  <hr />
  <div class="tab-content" id="myTabContent">
    <div
      class="tab-pane fade show active"
      id="static-curriculum"
      role="tabpanel"
      aria-labelledby="static-curriculum-tab"
    >
      <div class="form-group">
        <label class="form-label" for="program" data-i18n="program"></label>
        <select class="form-control" id="program">
          <option
            value="computer_engineering"
            data-i18n="Computer Engineering"
          ></option>
          <option
            value="electrical_engineering"
            data-i18n="Electrical Engineering"
          ></option>
          <option
            value="biomedical_engineering"
            data-i18n="Biomedical Engineering"
          ></option>
          <option
            value="civil_engineering"
            data-i18n="Civil Engineering"
          ></option>
          <option
            value="industrial_engineering"
            data-i18n="Industrial Engineering"
          ></option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label" for="year" data-i18n="Year"></label>
        <select class="form-control" id="year">
          <option value="1" data-i18n="First"></option>
          <option value="2" data-i18n="Second"></option>
          <option value="3" data-i18n="Third"></option>
          <option value="4" data-i18n="Fourth"></option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label" for="semester" data-i18n="Semester"></label>
        <select class="form-control" id="semester">
          <option value="fall" data-i18n="Fall">Fall</option>
          <option value="spring" data-i18n="Spring">Spring</option>
        </select>
      </div>
      <button id="displaybutton" class="btn btn-primary">
        <span class="text-white" data-i18n="show-courses"></span>
      </button>
      <div class="mt-3" id="courses"></div>
      <button class="btn btn-primary" id="electivebutton">
        <span class="text-white" data-i18n="elective-courses"></span>
      </button>
    </div>
    <div
      class="tab-pane fade"
      id="dynamic-curriculum"
      role="tabpanel"
      aria-labelledby="dynamic-curriculum-tab"
    >
      <h1>YOUR ECTS : <%= user.studentEcts %></h1>
      <hr />
      <h1>REMAINING ECTS FOR GRADUATION : <%= 240 - user.studentEcts %></h1>
      <hr />
      <h1 class="mb-3">These are the avaliable courses for this semester</h1>
      <hr />
      <% for (avcourse of availableCourses) { %>
      <div class="row">
        <h5 class="col-6"><%= avcourse.name %></h5>
        <span class="col-3 offset-3"> <%= avcourse.ects %></span>
      </div>
      <hr />
      <% } %>

      <h1 class="mb-3">These are the suggested courses for this semester</h1>
      <% for (sgcourse of filteredCourses) { %>
      <div class="row">
        <h5 class="col-6"><%= sgcourse.name %></h5>
        <span class="col-3 offset-3"> <%= sgcourse.ects %></span>
      </div>
      <hr />
      <% } %>
    </div>
  </div>
</div>

<style>
  body {
    background-color: #f1faee;
  }

  .nav-pills .nav-link.active {
    background-color: #d1d8df;
  }
</style>
<script>
  var tabs = document.querySelectorAll(".nav-link");
  tabs.forEach(function (tab) {
    tab.addEventListener("click", function (event) {
      event.preventDefault();
      var activeTab = document.querySelector(".nav-link.active");
      activeTab.classList.remove("active");
      tab.classList.add("active");
      var target = document.querySelector(tab.getAttribute("href"));
      var activeTabContent = document.querySelector(".tab-pane.show.active");
      activeTabContent.classList.remove("show", "active");
      target.classList.add("show", "active");
    });
  });
</script>
